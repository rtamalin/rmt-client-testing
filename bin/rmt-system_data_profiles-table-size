#!/bin/bash

cmdName=$(basename ${BASH_SOURCE[0]})
binDir=$(readlink -e $(dirname ${BASH_SOURCE[0]}))
dbTableSize=${binDir}/rmt-db-get-table-size

if [[ ! -x ${dbTableSize} ]]; then
    echo "ERROR: Ensure that the $(basename "${dbTableSize}") command is available."
    exit 1
fi

case "${cmdName}" in
    (rmt-*-table-size)
        dbTable="${cmdName%-table-size}"
        dbTable="${dbTable#rmt-}"
        ;;
    (*)
        echo "ERROR: ${cmdName} command name doesn't conform to required pattern"
        exit 1
        ;;
esac

${dbTableSize} ${dbTable}
# vim:shiftwidth=4:tabstop=4:expandtab
